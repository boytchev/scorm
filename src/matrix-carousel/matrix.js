//
//	class Matrix( )
//

	
class Matrix extends Group
{
	static allMatrixData;
	
	constructor( )
	{
		super( suica );

		if( !Matrix.allMatrixData )
			this.generateAllMatrixData( );

		this.addEventListener( 'click', this.onClick );

	} // Matrix.constructor



	// handles clicks on the matrix
	onClick( )
	{
		// avoid fake onClicks
		if( playground.pointerMovement > Playground.POINTER_MOVEMENT ) return;
			
		// if game is not started, click on the base will start it
		if( !playground.gameStarted )
		{
			playground.newGame( );
		}
	} // Carousel.onMatrix

	
	
	// generate a list of all possible matrices
	generateAllMatrixData( )
	{
		// group 0	I				0
		// group 1	Tx Ty Tz		1..6
		// group 2	Sx Sy Sz		7..12
		// group 3	Txy Txz Tyz		13..24
		// group 4	Sxy Sxz Sxz		25..36
		// group 5	Txyz Sxyz		37..52
		// group 6	Rx Ry Rz		53..58
		// group 7	C P				59..70
		
		var T = 6, 						// translation value
			S = 2,						// scale value
			C = 2, 						// orthogonal projection value
			CO = 8, 					// orthogonal projection value
			P = 1/4, 					// perspective projection value
			PO = 7, 					// perspective projection value
			SN = Math.sin(Math.PI/2),	// rot value
			CS = Math.cos(Math.PI/2);	// rot value
			
		Matrix.allMatrixData = [
			//0
			{id:'I', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],			step:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]},
			//1
			{id:'T+00', matrix:[[1,0,0,1],[0,1,0,0],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,0],[0,0,1,0],[0,0,0,1]]},
			{id:'T0+0', matrix:[[1,0,0,0],[0,1,0,1],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,T],[0,0,1,0],[0,0,0,1]]},
			{id:'T00+', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,0],[0,0,1,T],[0,0,0,1]]},
			{id:'T-00', matrix:[[1,0,0,-1],[0,1,0,0],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,-T],[0,1,0,0],[0,0,1,0],[0,0,0,1]]},
			{id:'T0-0', matrix:[[1,0,0,0],[0,1,0,-1],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,-T],[0,0,1,0],[0,0,0,1]]},
			{id:'T00-', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,-1],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,0],[0,0,1,-T],[0,0,0,1]]},
			//7
			{id:'S+00', matrix:[[2,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],		step:[[S,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],	},
			{id:'S0+0', matrix:[[1,0,0,0],[0,2,0,0],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,0],[0,S,0,0],[0,0,1,0],[0,0,0,1]],	},
			{id:'S00+', matrix:[[1,0,0,0],[0,1,0,0],[0,0,2,0],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,0],[0,0,S,0],[0,0,0,1]],	},
			{id:'S-00', matrix:[[1/2,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],		step:[[1/S,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],},
			{id:'S0-0', matrix:[[1,0,0,0],[0,1/2,0,0],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,0],[0,1/S,0,0],[0,0,1,0],[0,0,0,1]],},
			{id:'S00-', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1/2,0],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,0],[0,0,1/S,0],[0,0,0,1]],},
			//13
			{id:'T++0', matrix:[[1,0,0,1],[0,1,0,1],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,T],[0,0,1,0],[0,0,0,1]]},
			{id:'T+0+', matrix:[[1,0,0,1],[0,1,0,0],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,0],[0,0,1,T],[0,0,0,1]]},
			{id:'T0++', matrix:[[1,0,0,0],[0,1,0,1],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,T],[0,0,1,T],[0,0,0,1]]},
			{id:'T+-0', matrix:[[1,0,0,1],[0,1,0,-1],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,-T],[0,0,1,0],[0,0,0,1]]},
			{id:'T+0-', matrix:[[1,0,0,1],[0,1,0,0],[0,0,1,-1],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,0],[0,0,1,-T],[0,0,0,1]]},
			{id:'T0+-', matrix:[[1,0,0,0],[0,1,0,1],[0,0,1,-1],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,T],[0,0,1,-T],[0,0,0,1]]},		
			{id:'T-+0', matrix:[[1,0,0,-1],[0,1,0,1],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,-T],[0,1,0,T],[0,0,1,0],[0,0,0,1]]},
			{id:'T-0+', matrix:[[1,0,0,-1],[0,1,0,0],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,-T],[0,1,0,0],[0,0,1,T],[0,0,0,1]]},
			{id:'T0-+', matrix:[[1,0,0,0],[0,1,0,-1],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,-T],[0,0,1,T],[0,0,0,1]]},
			{id:'T--0', matrix:[[1,0,0,-1],[0,1,0,-1],[0,0,1,0],[0,0,0,1]],		step:[[1,0,0,-T],[0,1,0,-T],[0,0,1,0],[0,0,0,1]]},
			{id:'T-0-', matrix:[[1,0,0,-1],[0,1,0,0],[0,0,1,-1],[0,0,0,1]],		step:[[1,0,0,-T],[0,1,0,0],[0,0,1,-T],[0,0,0,1]]},
			{id:'T0--', matrix:[[1,0,0,0],[0,1,0,-1],[0,0,1,-1],[0,0,0,1]],		step:[[1,0,0,0],[0,1,0,-T],[0,0,1,-T],[0,0,0,1]]},
			//25
			{id:'S++0', matrix:[[2,0,0,0],[0,2,0,0],[0,0,1,0],[0,0,0,1]],		step:[[S,0,0,0],[0,S,0,0],[0,0,1,0],[0,0,0,1]]},
			{id:'S+0+', matrix:[[2,0,0,0],[0,1,0,0],[0,0,2,0],[0,0,0,1]],		step:[[S,0,0,0],[0,1,0,0],[0,0,S,0],[0,0,0,1]]},
			{id:'S0++', matrix:[[1,0,0,0],[0,2,0,0],[0,0,2,0],[0,0,0,1]],		step:[[1,0,0,0],[0,S,0,0],[0,0,S,0],[0,0,0,1]]},
			{id:'S+-0', matrix:[[2,0,0,0],[0,1/2,0,0],[0,0,1,0],[0,0,0,1]],		step:[[S,0,0,0],[0,1/S,0,0],[0,0,1,0],[0,0,0,1]]},
			{id:'S+0-', matrix:[[2,0,0,0],[0,1,0,0],[0,0,1/2,0],[0,0,0,1]],		step:[[S,0,0,0],[0,1,0,0],[0,0,1/S,0],[0,0,0,1]]},
			{id:'S0+-', matrix:[[1,0,0,0],[0,2,0,0],[0,0,1/2,0],[0,0,0,1]],		step:[[1,0,0,0],[0,S,0,0],[0,0,1/S,0],[0,0,0,1]]},
			{id:'S-+0', matrix:[[1/2,0,0,0],[0,2,0,0],[0,0,1,0],[0,0,0,1]],		step:[[1/S,0,0,0],[0,S,0,0],[0,0,1,0],[0,0,0,1]]},
			{id:'S-0+', matrix:[[1/2,0,0,0],[0,1,0,0],[0,0,2,0],[0,0,0,1]],		step:[[1/S,0,0,0],[0,1,0,0],[0,0,S,0],[0,0,0,1]]},
			{id:'S0-+', matrix:[[1,0,0,0],[0,1/2,0,0],[0,0,2,0],[0,0,0,1]],		step:[[1,0,0,0],[0,1/S,0,0],[0,0,S,0],[0,0,0,1]]},
			{id:'S--0', matrix:[[1/2,0,0,0],[0,1/2,0,0],[0,0,1,0],[0,0,0,1]],	step:[[1/S,0,0,0],[0,1/S,0,0],[0,0,1,0],[0,0,0,1]]},
			{id:'S-0-', matrix:[[1/2,0,0,0],[0,1,0,0],[0,0,1/2,0],[0,0,0,1]],	step:[[1/S,0,0,0],[0,1,0,0],[0,0,1/S,0],[0,0,0,1]]},
			{id:'S0--', matrix:[[1,0,0,0],[0,1/2,0,0],[0,0,1/2,0],[0,0,0,1]],	step:[[1,0,0,0],[0,1/S,0,0],[0,0,1/S,0],[0,0,0,1]]},
			//37
			{id:'T+++', matrix:[[1,0,0,1],[0,1,0,1],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,T],[0,0,1,T],[0,0,0,1]]},
			{id:'T++-', matrix:[[1,0,0,1],[0,1,0,1],[0,0,1,-1],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,T],[0,0,1,-T],[0,0,0,1]]},
			{id:'T+-+', matrix:[[1,0,0,1],[0,1,0,-1],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,-T],[0,0,1,T],[0,0,0,1]]},
			{id:'T+--', matrix:[[1,0,0,1],[0,1,0,-1],[0,0,1,-1],[0,0,0,1]],		step:[[1,0,0,T],[0,1,0,-T],[0,0,1,-T],[0,0,0,1]]},
			{id:'T-++', matrix:[[1,0,0,-1],[0,1,0,1],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,-T],[0,1,0,T],[0,0,1,T],[0,0,0,1]]},
			{id:'T-+-', matrix:[[1,0,0,-1],[0,1,0,1],[0,0,1,-1],[0,0,0,1]],		step:[[1,0,0,-T],[0,1,0,T],[0,0,1,-T],[0,0,0,1]]},
			{id:'T--+', matrix:[[1,0,0,-1],[0,1,0,-1],[0,0,1,1],[0,0,0,1]],		step:[[1,0,0,-T],[0,1,0,-T],[0,0,1,T],[0,0,0,1]]},
			{id:'T---', matrix:[[1,0,0,-1],[0,1,0,-1],[0,0,1,-1],[0,0,0,1]],	step:[[1,0,0,-T],[0,1,0,-T],[0,0,1,-T],[0,0,0,1]]},
			//45
			{id:'S+++', matrix:[[2,0,0,0],[0,2,0,0],[0,0,2,0],[0,0,0,1]],		step:[[S,0,0,0],[0,S,0,0],[0,0,S,0],[0,0,0,1]]},
			{id:'S++-', matrix:[[2,0,0,0],[0,2,0,0],[0,0,1/2,0],[0,0,0,1]],		step:[[S,0,0,0],[0,S,0,0],[0,0,1/S,0],[0,0,0,1]]},
			{id:'S+-+', matrix:[[2,0,0,0],[0,1/2,0,0],[0,0,2,0],[0,0,0,1]],		step:[[S,0,0,0],[0,1/S,0,0],[0,0,S,0],[0,0,0,1]]},
			{id:'S+--', matrix:[[2,0,0,0],[0,1/2,0,0],[0,0,1/2,0],[0,0,0,1]],	step:[[S,0,0,0],[0,1/S,0,0],[0,0,1/S,0],[0,0,0,1]]},
			{id:'S-++', matrix:[[1/2,0,0,0],[0,2,0,0],[0,0,2,0],[0,0,0,1]],		step:[[1/S,0,0,0],[0,S,0,0],[0,0,S,0],[0,0,0,1]]},
			{id:'S-+-', matrix:[[1/2,0,0,0],[0,2,0,0],[0,0,1/2,0],[0,0,0,1]],	step:[[1/S,0,0,0],[0,S,0,0],[0,0,1/S,0],[0,0,0,1]]},
			{id:'S--+', matrix:[[1/2,0,0,0],[0,1/2,0,0],[0,0,2,0],[0,0,0,1]],	step:[[1/S,0,0,0],[0,1/S,0,0],[0,0,S,0],[0,0,0,1]]},
			{id:'S---', matrix:[[1/2,0,0,0],[0,1/2,0,0],[0,0,1/2,0],[0,0,0,1]],	step:[[1/S,0,0,0],[0,1/S,0,0],[0,0,1/S,0],[0,0,0,1]]},
			//53
			{id:'Rxy', matrix:[[0,-1,0,0],[1,0,0,0],[0,0,1,0],[0,0,0,1]],		step:[[CS,-SN,0,0],[SN,CS,0,0],[0,0,1,0],[0,0,0,1]]},
			{id:'Ryx', matrix:[[0,1,0,0],[-1,0,0,0],[0,0,1,0],[0,0,0,1]],		step:[[CS,SN,0,0],[-SN,CS,0,0],[0,0,1,0],[0,0,0,1]]},
			{id:'Rxz', matrix:[[0,0,-1,0],[0,1,0,0],[1,0,0,0],[0,0,0,1]],		step:[[CS,0,-SN,0],[0,1,0,0],[SN,0,CS,0],[0,0,0,1]]},
			{id:'Rzx', matrix:[[0,0,1,0],[0,1,0,0],[-1,0,0,0],[0,0,0,1]],		step:[[CS,0,SN,0],[0,1,0,0],[-SN,0,CS,0],[0,0,0,1]]},
			{id:'Ryz', matrix:[[1,0,0,0],[0,0,-1,0],[0,1,0,0],[0,0,0,1]],		step:[[1,0,0,0],[0,CS,-SN,0],[0,SN,CS,0],[0,0,0,1]]},
			{id:'Rzy', matrix:[[1,0,0,0],[0,0,1,0],[0,-1,0,0],[0,0,0,1]],		step:[[1,0,0,0],[0,CS,SN,0],[0,-SN,CS,0],[0,0,0,1]]},
			//59
			{id:'Cx+', matrix:[[0,0,0,1],[0,1,0,0],[0,0,1,0],[0,0,0,1]],	step:[[0,0,0,C],[0,1,0,0],[0,0,1,0],[0,0,0,1]],		offset:[CO,0,0]},
			{id:'Cy+', matrix:[[1,0,0,0],[0,0,0,1],[0,0,1,0],[0,0,0,1]],	step:[[1,0,0,0],[0,0,0,C],[0,0,1,0],[0,0,0,1]],		offset:[0,CO,0]},
			{id:'Cz+', matrix:[[1,0,0,0],[0,1,0,0],[0,0,0,1],[0,0,0,1]],	step:[[1,0,0,0],[0,1,0,0],[0,0,0,C],[0,0,0,1]],		offset:[0,0,CO]},
			{id:'Cx-', matrix:[[0,0,0,-1],[0,1,0,0],[0,0,1,0],[0,0,0,1]],	step:[[0,0,0,-C],[0,1,0,0],[0,0,1,0],[0,0,0,1]],	offset:[-CO,0,0]},
			{id:'Cy-', matrix:[[1,0,0,0],[0,0,0,-1],[0,0,1,0],[0,0,0,1]],	step:[[1,0,0,0],[0,0,0,-C],[0,0,1,0],[0,0,0,1]],	offset:[0,-CO,0]},
			{id:'Cz-', matrix:[[1,0,0,0],[0,1,0,0],[0,0,0,-1],[0,0,0,1]],	step:[[1,0,0,0],[0,1,0,0],[0,0,0,-C],[0,0,0,1]],	offset:[0,0,-CO]},
			//65
			{id:'Pz+', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,1,0]],	step:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,P,0]],		offset:[0,0,PO]},
			{id:'Py+', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,1,0,0]],	step:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,P,0,0]],		offset:[0,PO,0]},
			{id:'Px+', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[1,0,0,0]],	step:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[P,0,0,0]],		offset:[PO,0,0]},
			{id:'Pz-', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,-1,0]],	step:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,-P,0]],	offset:[0,0,-PO]},
			{id:'Py-', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,-1,0,0]],	step:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,-P,0,0]],	offset:[0,-PO,0]},
			{id:'Px-', matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-1,0,0,0]],	step:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-P,0,0,0]],	offset:[-PO,0,0]},
			//71
			//.....
		];
		
		for( var data of Matrix.allMatrixData )
		{
			if (!data.offset) data.offset = [0, 0, 0];
		}

	} // Matrix.generateMatrixData
	
	
} // class Matrix

